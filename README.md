# **GIT Cheat Sheets & Complete Tutorial Menu**  

| **Title** | **Remark/Code** |  
|----------------|----------------|  
| **Introduction to Git** | What is Git? Why use Git? Difference between Git and GitHub |  
| [Installation](https://github.com/potatoscript/git/wiki/Installation) | Install Git on Windows, macOS, Linux |  
| **Git Basics** | Understanding repositories, commits, branches, remotes |  
| [Setting Up Git](https://github.com/potatoscript/git/wiki/Setup) | Configure username, email, aliases using `git config` |  
| [Alias Setup](https://github.com/potatoscript/git/wiki/Alias-Setup) | Create shortcuts for long Git commands |  
| [Basic Git Commands](https://github.com/potatoscript/git/wiki/Basic) | `init` `status` `commit` `log` `add` `diff` `checkout` `reset` |  
| [Creating a Repository](https://github.com/potatoscript/git/wiki/Create-Repository) | Initialize and configure a new repository |  
| **Working with Files** | Adding, modifying, deleting files in Git |  
| [.bashrc file](https://github.com/potatoscript/git/wiki/bashrc) | Customize Git command aliases |  
| [.gitignore file](https://github.com/potatoscript/git/wiki/gitignore) | Ignore files and directories from tracking |  
| [Editing Files](https://github.com/potatoscript/git/wiki/Editing-File) | Read/edit files using `cat` `vim` `nano` `code` |  
| [Staging and Committing](https://github.com/potatoscript/git/wiki/Staging-Committing) | `add` `commit` `commit --amend` |  
| **Branching & Merging** | Managing branches and merging changes |  
| [Creating & Switching Branches](https://github.com/potatoscript/git/wiki/Branching) | `branch` `checkout` `switch` |  
| [Merging Branches](https://github.com/potatoscript/git/wiki/Merging) | `merge` `rebase` `cherry-pick` |  
| [Rebasing](https://github.com/potatoscript/git/wiki/Rebasing) | `rebase` `rebase --interactive` |  
| [Squashing Commits](https://github.com/potatoscript/git/wiki/Squashing-Commits) | `rebase -i` to combine multiple commits |  
| [Cherry-Picking](https://github.com/potatoscript/git/wiki/Cherry-Picking) | Apply specific commits from another branch |  
| **Working with Remote Repositories** | Connecting local Git to remote repositories |  
| [Adding a Remote Repository](https://github.com/potatoscript/git/wiki/Remote-Repositories) | `git remote add origin` |  
| [Cloning a Repository](https://github.com/potatoscript/git/wiki/Clone-Repository) | `git clone` to copy a remote repository |  
| [Fetching, Pulling & Pushing](https://github.com/potatoscript/git/wiki/Tracking-Syncing) | `git fetch` `git pull` `git push` |  
| [Moving Local Repo to Remote](https://github.com/potatoscript/git/wiki/Move-Project-to-Remote) | `git remote add` `git push -u origin` |  
| **Undoing & Resetting Changes** | Fix mistakes and revert changes |  
| [Undoing Changes](https://github.com/potatoscript/git/wiki/Undoing-Changes) | `reset` `restore` `checkout` `reflog` |  
| [Unstaging Files](https://github.com/potatoscript/git/wiki/Unstaging-Files) | `restore` `reset HEAD` `clean` |  
| [Reverting Commits](https://github.com/potatoscript/git/wiki/Reverting-Changes) | `revert` `commit --amend` |  
| [Reset, Checkout, Restore](https://github.com/potatoscript/git/wiki/Reset-Checkout-Restore) | `checkout` `reset` `restore` |  
| [Restoring a File to an Earlier Version](https://github.com/potatoscript/git/wiki/Restore-File-Version) | `restore` `checkout` `reset` |  
| **Viewing and Comparing Changes** | Track modifications in your project |  
| [Viewing Staged & Unstaged Changes](https://github.com/potatoscript/git/wiki/View-Unstaged) | `diff` `diff --staged` `difftool` |  
| [Comparing Commits](https://github.com/potatoscript/git/wiki/Comparing-Commits) | `diff` `log --oneline` |  
| [Viewing the History](https://github.com/potatoscript/git/wiki/View-History) | `log` `log --graph` |  
| [Viewing a Commit](https://github.com/potatoscript/git/wiki/View-Commit) | `show` `ls-tree` |  
| **Handling Merge Conflicts** | Resolve issues when merging branches |  
| [Troubleshooting Merge Conflicts](https://github.com/potatoscript/git/wiki/Troubleshooting-Conflicts) | Using `merge` `rebase` conflict resolution |  
| [Working with Stashes](https://github.com/potatoscript/git/wiki/Stashes) | `stash` `stash pop` `stash apply` `stash drop` |  
| **Git Tagging & Releases** | Manage software versions using tags |  
| [Tagging Commits](https://github.com/potatoscript/git/wiki/Tagging) | `git tag` `git tag -a` `git tag -d` |  
| [Working with Feature Branches](https://github.com/potatoscript/git/wiki/Feature-Branches) | `checkout -b` `merge` `rebase` |  
| **Advanced Git Features** | Powerful Git tools for workflow |  
| [Git Hooks](https://github.com/potatoscript/git/wiki/Git-Hooks) | Automate tasks with pre/post-commit hooks |  
| [Git Submodules](https://github.com/potatoscript/git/wiki/Submodules) | `submodule add` `submodule update` |  
| [Interactive Rebase](https://github.com/potatoscript/git/wiki/Interactive-Rebase) | `rebase -i` to modify commit history |  
| [Bisecting](https://github.com/potatoscript/git/wiki/Bisect) | `git bisect` for debugging commits |  
| **Git Collaboration** | Best practices for working with teams |  
| [Forking and Pull Requests](https://github.com/potatoscript/git/wiki/Forking-Pull-Requests) | Fork, clone, modify, submit PRs |  
| [Code Reviews with GitHub](https://github.com/potatoscript/git/wiki/Code-Reviews) | Using GitHub for reviews and approvals |  
| **Security and Best Practices** | Keep your codebase secure |  
| [Signing Commits](https://github.com/potatoscript/git/wiki/Signing-Commits) | Use GPG to sign Git commits |  
| [Git Best Practices](https://github.com/potatoscript/git/wiki/Best-Practices) | Writing good commit messages, branch strategies |  
| **Git for DevOps & Automation** | Using Git in CI/CD pipelines |  
| [Git in CI/CD Pipelines](https://github.com/potatoscript/git/wiki/Git-CICD) | Automate testing and deployments |  
| **Git Internals & Performance** | Deep dive into Git |  
| [Understanding Git Internals](https://github.com/potatoscript/git/wiki/Git-Internals) | Objects, trees, and commits |  
| [Optimizing Git Performance](https://github.com/potatoscript/git/wiki/Git-Performance) | `gc` `fsck` `repack` to clean and speed up |  
| **Git Wiki Repository** | Documenting with Git |  
| [Wiki Repository](https://github.com/potatoscript/git/wiki/Wiki-Repository) | Manage GitHub Wiki repositories |  

---

# **Comprehensive Git Tutorial**

## **Introduction**

Git is an essential tool for version control, enabling efficient collaboration and code management. This tutorial provides a detailed walkthrough of key Git commands, including rebasing, amending commits, cleaning up repositories, and force pushing changes. 

---

## **1. Configuring a Safe Directory in Git**

To ensure Git recognizes your working directory as safe and prevents unnecessary warnings, execute the following command:

```bash
git config --global --add safe.directory "*"
```

---

## **2. Rebasing in Git: Editing Commits**

Rebasing allows you to modify commit history. Follow these steps to edit commits:

1. **Initiate an Interactive Rebase:**

   ```bash
   git rebase -i --root
   ```

2. **Modify Commit Messages:**
   - The command opens an interactive rebase interface.
   - Change `pick` to `reword` for the commit you wish to edit.
   
   ```bash
   reword <commit-hash> <commit-message>
   ```

3. **Save and Exit:**
   - Press `ESC`, then type `:wq` and press `Enter` to save changes.

4. **Continue the Rebase Process:**

   ```bash
   git rebase --continue
   ```

5. **Force Push Updated Commits:**

   ```bash
   git push origin <branch-name> --force
   ```

(Replace `<branch-name>` with your actual branch name.)

---

## **3. Resetting and Amending Commits**

To reset or modify commit messages, follow these steps:

1. **Soft Reset to a Previous Commit:**

   ```bash
   git reset --soft <commit-hash>
   ```

2. **Amend a Commit Message:**

   ```bash
   git commit --amend -m "Updated commit message"
   ```

3. **Push Amended Commit:**

   ```bash
   git push origin <branch-name> --force
   ```

---

## **4. Resolving Missing Objects in Git**

If Git reports missing objects, perform the following steps:

1. **Check Repository Integrity:**

   ```bash
   git fsck --full
   ```

2. **Optimize and Cleanup the Repository:**

   ```bash
   git gc --prune=now
   ```

---

## **5. Cleaning and Optimizing a Git Repository**

To maintain repository efficiency:

1. **Remove Old References:**

   ```bash
   git reflog expire --expire=now --all
   ```

2. **Run Garbage Collection:**

   ```bash
   git gc --prune=now
   ```

3. **Repack the Repository:**

   ```bash
   git repack -A -d
   ```

4. **Validate Repository Health:**

   ```bash
   git fsck --full
   ```

---

## **6. Merging Unrelated Histories**

When pulling changes from different repositories, you may need to allow unrelated histories:

```bash
git pull origin main --allow-unrelated-histories
```

---

## **Interactive Rebase: Editing Commit Messages**

To modify commit messages in Git using interactive rebase, follow these steps:

1. **Start the Rebase:**
   Open your commit history in interactive mode:

   ```bash
   git rebase -i --root
   ```

2. **Enter Insert Mode:**
   Git will open the commit history in your configured text editor. To make edits, press `i` to enter *INSERT mode*.

3. **Change `pick` to `reword`:**
   Locate the commit you want to edit and replace `pick` with `reword`. For example:

   ```bash
   reword <commit-hash> <commit-message>
   ```

   This allows you to modify the commit message.

4. **Exit Insert Mode:**
   Once you've made the necessary changes, press the `ESC` key to exit *INSERT mode*.

5. **Save and Quit:**
   Save the changes and close the editor by typing:

   ```bash
   :wq
   ```

   Then press `Enter`.

6. **Continue the Rebase:**
   After saving, Git will prompt you to confirm the rebase. To proceed, run:

   ```bash
   git rebase --continue
   ```

This process ensures that your commit history remains structured while allowing you to refine commit messages effectively.


---

## **Summary of Key Commands**

| Task | Command |
|---|---|
| Set safe directory | `git config --global --add safe.directory "*"` |
| Start interactive rebase | `git rebase -i --root` |
| Amend commit message | `git commit --amend -m "Updated message"` |
| Force push changes | `git push origin <branch-name> --force` |
| Check for missing objects | `git fsck --full` |
| Run garbage collection | `git gc --prune=now` |
| Remove old references | `git reflog expire --expire=now --all` |
| Merge unrelated histories | `git pull origin main --allow-unrelated-histories` |




---

- Long-Running Branches (main, master, develop, staging, production branch )

  - exist through the complete lifetime of the project
  - often they mirror "stages" in your dev life cycle.

- Short-lived branches (feature branch)

  - for new features, bug fixes, refactorings, experiments...
  - will be deleted after integration (merge/rebase)

- Two Branching Strategies
  1. GitHub Flow - very simple, very lean: only one long-running branch(main or master) + feature branches.
  2. GitFlow - more structure, more rules...
     - long-running : main + develop
     - short-lived : features, releases, hotfixes.


---

| Title    | Remark/code  |
| -------------| -----|
| [Installation](https://github.com/potatoscript/git/wiki/Installation) | Setup and Configuration GIT `config`|
| [Alias Setup](https://github.com/potatoscript/git/wiki/Alias-Setup)|shortcut for those long long commands|
| [Basic Operation](https://github.com/potatoscript/git/wiki/Basic)|`init` `status` `commit` `cat` list `ls` `echo` `touch` `rm` |
| [Create Repository](#Create-Repository)|https://stackoverflow.com/questions/20325089/hosting-a-git-server-on-localhost|
| [.bashrc file](https://github.com/potatoscript/git/wiki/bashrc)|Create .bashrc file to store your own alias|
| [.gitignore file](https://github.com/potatoscript/git/wiki/gitignore)|https://www.codegrepper.com/code-examples/csharp/aspnet+core+gitignore|
| [Editing File](https://github.com/potatoscript/git/wiki/Editing-File)| read file `cat` and edit file `vim` or `code`|
| [Move your project to Remote](https://github.com/potatoscript/git/wiki/Move-Project-to-Remote) | `remote` `push` |
| [Restoring a File to an Earlier Version](https://github.com/potatoscript/git/wiki/Restore-File-Version)|`restore` |
| [Trouble Shooting Conflict](https://github.com/potatoscript/git/wiki/Trouble-Shooting-Conflict)|`stash`|
| [Unstaging Files](https://github.com/potatoscript/git/wiki/Unstaging-Files)|`restore` `clean` |
| [Viewing Staged & Unstaged Changes](https://github.com/potatoscript/git/wiki/View-Unstaged)|`diff --staged` `difftool` |
| [Viewing the History](https://github.com/potatoscript/git/wiki/View-History)|`log` |
| [Viewing a Commit](https://github.com/potatoscript/git/wiki/View-Commit)|`show` `ls-tree`|
| [Workflow basic](https://github.com/potatoscript/git/wiki/Workflow)|Clone Pull Push from Remote and create branch `branch` `merge`|
| [Workflow with feature branch](https://github.com/potatoscript/git/wiki/Workflow-feature)|using `tag`|
| [Wiki Repository](https://github.com/potatoscript/git/wiki/Wiki-Repository)||
| [Clone Repository](https://github.com/potatoscript/git/wiki/Clone-Repository)|clone all your GitHub repositories and their corresponding wiki repositories at once|

---

### home

|                                       |                                                       |
| ------------------------------------- | ----------------------------------------------------- |
| ■ [Create Branch](#Branch)            |                                                       |
| ■ [Pull Requests](#Pull-Requests)     | Communicating about and reviewing code                |
| ■ [Merge](#Merge)                     |                                                       |
| ■ [Merge Conflicts](#Merge-Conflicts) | When Integrating commits from different Sources       |
| ■ [Rebase](#Rebase)                   | Integrating with rebase -> a straight line of commits |
| ■ [Cherry-Picking](#Cherry-Picking)   | Integrating Single, Specific Commits                  |

[home](#home)

### Branch

- Create branch

```git
git branch test
git checkout test
```

- set your remote origin repository

```git
git remote add origin /C/Apache24/htdocs/potatoscript.git
```

- make some change and commit and push it into the remote branch
- the `--set-upstream` allows you to set the default remote branch for your current local branch
- By default, every pull command sets the master as your default remote branch

```git
git push --set-upstream origin test
```

### Pull Requests

- without a `Pull Request` you would jump right to merging your code.
- Invites reviewers to provide feedback before merging
- Contributing code to other repositories that you don't have right access
- normally we will `Fork` the other people origin repository that you don't have the right to make changes<br>
  and clone it into your local repository to do editing.

[home](#home)

### Merge

- Merging Branches = Integrating one Branch into Another
- To merge branches locally, use git checkoutto switch to the branch you want to merge into.
- Next, use git mergeand specify the name of the other branch to bring into this branch.

```git
git checkout main
git merge feature/feature1
```

[home](#home)

### Merge Conflicts

- When contradictory changes happen
- To solve the conflicts use
  - `git rebase`, `git pull`, `git cherry-pick`, `git stash apply`
  - use the git mergetool like `www.git-tower.com`

[home](#home)

### Rebase

- Interactive Rebase

```git
- Change a commit's message
- delete commits
- reorder commits
- combine multiple commits into one
- edit/ssplit an existing commits into multiple new ones.
- Do NOT use Rebase on commits that you have already pushed/shared on a remote repository!!!
- Instead, use it for cleaning up your local commit history before merging it into a shared team branch.
```

- the mechanism of `git rebase branch-B`
- step 1 :
  - git rebase -i HEAD~3
  - removed all commits from branch A and temporary keep them somewhere
- step 2 : create a straight line of commits

  - use `git log --oneline` to check the commit status and id
  - use `git rebase -i HEAD~3` to set the range of commit to rebase
  - next determine the desired action (reword or squash) only and don't edit the comment
    - reword -> edit comment

  ```git
     reword 6bcf266 Optimize markup structure in inddpage
     pick 762317c Change the page structure
     pick del3564 Improve headline for improve
  ```

  - squash -> combine commit

  ```git
    pick 6bcf266 Optimize markup structure in inddpage
    squash 762317c Change the page structure
    pick del3564 Improve headline for improve
  ```

  this will combine `6bcf266` and `762317c` into new commit with new Id

- step 3 : return back the commits of branch A with the new Id

[home](#home)

### Cherry Picking

- allows you to select individual commits to be integrated
- therfore use it for moving a commit to a different branch
- when you commit to the wrong branch

for example: by using merge C2 and C4 from branch feature-X will all moved to branch master

by using cherry pick you can choice C2 or C4 only to move to branch master

```
   C1--------C3--------C5--------master
     \
      C2--------C4--------------feature-X

```

- Usage Example:
  - WHen you committed on the wrong branch
  - C3 should have been on feature-X

```
   C1--------C3-----------master
     \
      C2------------------feature-X
```

- first we shift to `feature-X` branch and apply cherry pick on the target commit

```git
  git checkout feature/neweletter
  git cherry-pick 26bf1648
```

- next clean up the commit from the master branch

```git
  git checkout master
  git reset --hard HEAD~1 #this will remove the C3 from master branch
```
